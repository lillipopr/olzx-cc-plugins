---
description: 功能迭代工作流
---

# 功能迭代（Feature Iteration）

## 适用场景

- 已有功能的增强
- 需求变更导致的修改
- 基于已有 PRD 的增量开发

## 执行流程

```
Stage 2: DDD Design → Stage 3: Spec Modeling → Stage 4: Artifact Derivation
```

跳过 Stage 1（PRD 已存在或仅需增量更新）

## 详细步骤

### Step 1: 评估变更范围

1. 确认已有 PRD 文档
2. 评估变更对领域模型的影响
3. 决定是否需要更新 PRD

**变更范围判断**：
| 变更类型 | 是否更新 PRD | 说明 |
|---------|-------------|------|
| 新增字段 | 否 | 直接进入 Stage 2 |
| 新增状态 | 否 | 直接进入 Stage 2 |
| 新增功能点 | 是 | 先更新 PRD |
| 业务规则变更 | 是 | 先更新 PRD |

### Step 2: Stage 2 - DDD Design 增量更新

**检查点**：
- 是否需要新增实体/值对象
- 是否需要调整聚合边界
- 是否需要新增领域事件

**闸口**：
```
📋 Stage 2《DDD 设计文档》增量更新完成
变更内容：
- [列出具体变更]

请 Review 变更是否合理，Review 通过后请回复"继续"
```

### Step 3: Stage 3 - Spec Modeling 增量更新

**检查点**：
- 是否需要新增状态
- 是否需要新增/修改不变量
- 是否需要新增用例

**闸口**：
```
📋 Stage 3《规格建模文档》增量更新完成
变更内容：
- [列出具体变更]

请 Review 变更是否合理，Review 通过后请回复"继续"
```

### Step 4: Stage 4 - Artifact Derivation 增量更新

**检查点**：
- 是否需要新增接口
- 是否需要修改现有接口
- 是否需要调整实现位置

**闸口**：
```
📋 Stage 4《工件推导文档》增量更新完成
变更内容：
- [列出具体变更]

请 Review 变更是否合理，Review 通过后可开始编码
```

## 注意事项

1. **保持文档一致性** - 变更需同步到所有相关文档
2. **标记变更历史** - 在文档中记录变更原因和时间
3. **回归测试** - 确保原有用例仍然通过
