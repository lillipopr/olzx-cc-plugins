# 用例设计评分标准

> **满分**：100 分
> **及格分**：60 分
> **推荐分**：85 分以上
> **权重**：25%

---

## 评分维度

用例设计从 5 个维度评分，每个维度有具体的评分项。

| 维度 | 满分 | 说明 |
|------|------|------|
| 正向用例 | 25 分 | Happy Path 覆盖、用例格式 |
| Bad Case | 25 分 | 禁止态覆盖、拒绝处理 |
| 边界用例 | 15 分 | 边界条件覆盖 |
| 用例覆盖矩阵 | 20 分 | 覆盖完整性、矩阵格式 |
| 用例优先级 | 15 分 | 优先级定义、比例合理性 |

---

## 一、正向用例（25 分）

### 1.1 用例完整性（10 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **核心路径覆盖** | 5 分 | 覆盖所有核心 Happy Path（5 分完整，3 分基本完整，0 分缺失） |
| **状态转移覆盖** | 3 分 | 覆盖所有正向状态转移（3 分完整，1 分部分完整，0 分缺失） |
| **约束覆盖** | 2 分 | 覆盖所有不变量（2 分完整，1 分部分完整，0 分缺失） |

**扣分项**：
- 核心路径遗漏：遗漏核心 Happy Path 扣 2 分/处
- 状态转移遗漏：遗漏正向状态转移扣 1 分/处
- 约束未覆盖：不变量无对应用例扣 1 分/个

---

### 1.2 用例格式（10 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **Given-When-Then** | 4 分 | 严格遵循 Given-When-Then 格式（4 分严格，2 分基本遵循，0 分不遵循） |
| **前置条件完整** | 2 分 | 前置条件完整（系统状态、数据状态、外部依赖）（2 分完整，1 分部分完整，0 分缺失） |
| **预期结果明确** | 2 分 | 预期结果明确（状态变化、输出结果、副作用）（2 分明确，1 分可理解，0 分模糊） |
| **约束标注** | 2 分 | 标注相关的不变量（2 分完整，1 分部分完整，0 分缺失） |

**扣分项**：
- 格式错误：未遵循 G-W-T 格式扣 2 分/个
- 前置条件缺失：前置条件不完整扣 1 分/项
- 预期结果模糊：预期结果不明确扣 1 分/个
- 约束未标注：未标注相关约束扣 1 分/个

---

### 1.3 各端验证方式（5 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **验证方式明确** | 3 分 | 每个用例都有验证方式（单元测试/集成测试/UI 测试）（3 分明确，1 分部分明确，0 分不明确） |
| **测试文件** | 2 分 | 标注测试文件名称（2 分完整，1 分部分完整，0 分缺失） |

**扣分项**：
- 验证方式不明：验证方式不明确扣 1 分/个
- 测试文件未标注：未标注测试文件扣 1 分/个

---

## 二、Bad Case（25 分）

### 2.1 禁止态覆盖（12 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **禁止态完整性** | 7 分 | 覆盖所有禁止态（7 分完整，4 分 80%以上，0 分低于 80%） |
| **每个禁止态一个用例** | 5 分 | 每个禁止态都有对应的 Bad Case（5 分完整，3 分 80%以上，0 分低于 80%） |

**扣分项**：
- 禁止态遗漏：遗漏禁止态扣 3 分/个
- 多个禁止态合并：多个禁止态合并为一个用例扣 2 分/处

---

### 2.2 拒绝处理（8 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **状态变化** | 2 分 | 明确说明状态变化（无变化/回滚）（2 分明确，1 分可理解，0 分未说明） |
| **输出结果** | 3 分 | 明确拒绝操作和错误信息（3 分明确，1 分可理解，0 分未说明） |
| **副作用** | 2 分 | 明确副作用（无副作用）（2 分明确，1 分可理解，0 分未说明） |
| **违反的不变量** | 1 分 | 标注违反的不变量（1 分标注，0 分未标注） |

**扣分项**：
- 状态变化未说明：未说明状态变化扣 1 分/个
- 错误信息模糊：错误信息不明确扣 1 分/个
- 副作用未说明：未说明副作用扣 1 分/个
- 约束未标注：未标注违反的约束扣 1 分/个

---

### 2.3 各端验证方式（5 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **验证方式明确** | 3 分 | 每个用例都有验证方式（3 分明确，1 分部分明确，0 分不明确） |
| **测试文件** | 2 分 | 标注测试文件名称（2 分完整，1 分部分完整，0 分缺失） |

**扣分项**：
- 验证方式不明：验证方式不明确扣 1 分/个
- 测试文件未标注：未标注测试文件扣 1 分/个

---

## 三、边界用例（15 分）

### 3.1 边界类型覆盖（8 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **边界类型完整** | 4 分 | 覆盖零值、最大值、最小值、空集合（4 分完整，2 部分完整，0 分缺失） |
| **边界值合理** | 4 分 | 边界值选择合理（4 分合理，2 分可接受，0 分不合理） |

**扣分项**：
- 边界类型遗漏：遗漏边界类型扣 1 分/个
- 边界值不合理：边界值选择不合理扣 1 分/个

---

### 3.2 用例格式（7 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **Given-When-Then** | 3 分 | 遵循 Given-When-Then 格式（3 分遵循，1 分基本遵循，0 分不遵循） |
| **边界条件明确** | 2 分 | 边界条件明确（2 分明确，1 分可理解，0 分模糊） |
| **预期结果明确** | 2 分 | 预期结果明确（2 分明确，1 分可理解，0 分模糊） |

**扣分项**：
- 格式错误：未遵循 G-W-T 格式扣 2 分/个
- 边界条件模糊：边界条件不明确扣 1 分/个
- 预期结果模糊：预期结果不明确扣 1 分/个

---

## 四、用例覆盖矩阵（20 分）

### 4.1 矩阵格式（6 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **列完整** | 3 分 | 包含用例ID、类型、覆盖不变量、覆盖状态转移、优先级（3 分完整，2 分部分完整，0 分缺失） |
| **格式清晰** | 3 分 | 矩阵格式清晰易读（3 分清晰，1 分可读，0 分混乱） |

**扣分项**：
- 列缺失：缺少必要列扣 1 分/个
- 格式混乱：矩阵格式混乱扣 2 分

---

### 4.2 覆盖完整性（10 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **不变量覆盖** | 3 分 | 所有不变量至少有一个用例覆盖（3 分完整，2 分 90%以上，0 分低于 90%） |
| **状态转移覆盖** | 3 分 | 所有状态转移至少有一个用例覆盖（3 分完整，2 分 90%以上，0 分低于 90%） |
| **禁止态覆盖** | 3 分 | 所有禁止态至少有一个 Bad Case（3 分完整，2 分 90%以上，0 分低于 90%） |
| **P0 用例覆盖** | 1 分 | P0 用例 100% 覆盖（1 分符合，0 分不符合） |

**扣分项**：
- 不变量未覆盖：不变量无对应用例扣 1 分/个
- 状态转移未覆盖：状态转移无对应用例扣 1 分/个
- 禁止态未覆盖：禁止态无对应 Bad Case 扣 1 分/个
- P0 用例缺失：P0 用例未 100% 覆盖扣 1 分

---

### 4.3 覆盖完整性检查（4 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **检查清单** | 2 分 | 包含覆盖完整性检查清单（2 分包含，0 分未包含） |
| **检查结果** | 2 分 | 每项都有检查结果（√/×）（2 分完整，1 分部分完整，0 分缺失） |

**扣分项**：
- 清单缺失：无覆盖检查清单扣 2 分
- 检查未完成：检查项未完成扣 1 分/项

---

## 五、用例优先级（15 分）

### 5.1 优先级定义（5 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **定义清晰** | 3 分 | P0/P1/P2 定义清晰（3 分清晰，1 分可理解，0 分模糊） |
| **比例要求** | 2 分 | 有明确的比例要求（2 分有，0 分无） |

**扣分项**：
- 定义模糊：优先级定义模糊扣 2 分
- 比例缺失：无比例要求扣 2 分

---

### 5.2 优先级分配（6 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **分配合理** | 3 分 | 优先级分配合理（核心流程为 P0）（3 分合理，1 分基本合理，0 分不合理） |
| **比例符合** | 3 分 | 比例符合要求（P0≤30%, P1≤40%, P2≤30%）（3 分符合，2 分基本符合，0 分不符合） |

**扣分项**：
- 分配不合理：核心流程不是 P0 扣 2 分/个
- 比例超标：P0>30% 或 P1>40% 或 P2>30% 扣 2 分

---

### 5.3 实现顺序（4 分）

| 评分项 | 满分 | 评分标准 |
|--------|------|----------|
| **顺序合理** | 2 分 | 实现顺序合理（依赖关系正确）（2 分合理，1 分可接受，0 分不合理） |
| **依赖明确** | 2 分 | 依赖关系明确（2 分明确，1 分可理解，0 分模糊） |

**扣分项**：
- 顺序不合理：实现顺序不合理扣 1 分/处
- 依赖模糊：依赖关系模糊扣 1 分/处

---

## 评分示例

### 优秀示例（95 分）

```
正向用例：
- 核心路径覆盖：5/5
- 状态转移覆盖：3/3
- 约束覆盖：2/2
- Given-When-Then：4/4
- 前置条件完整：2/2
- 预期结果明确：2/2
- 约束标注：2/2
- 验证方式明确：3/3
- 测试文件：2/2
小计：25/25

Bad Case：
- 禁止态完整性：7/7
- 每个禁止态一个用例：5/5
- 状态变化：2/2
- 输出结果：3/3
- 副作用：2/2
- 违反的不变量：1/1
- 验证方式明确：3/3
- 测试文件：2/2
小计：25/25

边界用例：
- 边界类型完整：4/4
- 边界值合理：4/4
- Given-When-Then：3/3
- 边界条件明确：2/2
- 预期结果明确：2/2
小计：15/15

用例覆盖矩阵：
- 列完整：3/3
- 格式清晰：3/3
- 不变量覆盖：3/3
- 状态转移覆盖：3/3
- 禁止态覆盖：3/3
- P0 用例覆盖：1/1
- 检查清单：2/2
- 检查结果：2/2
小计：20/20

用例优先级：
- 定义清晰：3/3
- 比例要求：2/2
- 分配合理：3/3
- 比例符合：3/3
- 顺序合理：2/2
- 依赖明确：2/2
小计：15/15

总分：100/100
```

---

## 常见扣分项汇总

| 问题 | 扣分 |
|------|------|
| 核心路径遗漏 | -2 分/处 |
| 未遵循 G-W-T 格式 | -2 分/个 |
| 前置条件缺失 | -1 分/项 |
| 预期结果模糊 | -1 分/个 |
| 禁止态遗漏 | -3 分/个 |
| 拒绝处理不明确 | -1 分/项 |
| 边界类型遗漏 | -1 分/个 |
| 不变量未覆盖 | -1 分/个 |
| 状态转移未覆盖 | -1 分/个 |
| 优先级分配不合理 | -2 分/个 |
