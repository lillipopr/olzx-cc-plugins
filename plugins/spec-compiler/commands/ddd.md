---
description: 调用领域架构师，将 PRD 转化为领域设计文档。支持 5 章结构生成、每章人工 Review、Task 工作流、上下文优化。
---

# /ddd - 领域架构师命令

此命令调用 **domain-architect** Agent，从 PRD 生成领域设计文档。

## 使用场景

- 已有 PRD 文档，需要生成领域设计文档
- 需要审查现有领域设计文档的质量
- 需要基于反馈优化领域设计

## 工作流程

### 创建领域设计文档

```
PRD 文档 → [T1]PRD 摘要 → [T2-T6]逐章生成（生成 → 人工Review → 确认/修改）→ 5 个章节文档
```

每章生成完成后需要 **人工 Review** 确认：
- 用户确认"继续"：进入下一章
- 用户要求"修改"：根据意见修改当前章节
- 用户要求"重做"：重新生成当前章节

## 文档结构（5 章）

| 章节 | 内容 |
|------|------|
| 第一章：限界上下文 | 业务能力、上下文划分、映射 |
| 第二章：聚合设计 | 聚合根、实体、值对象（含事件发布） |
| 第三章：领域服务 | 服务判断、详细设计 |
| 第四章：应用层 | 应用服务、用户/系统行为、事件处理 |
| 第五章：入口层 | Controller、MQ、Task 层 |

## 知识库

- Agent: `{CLAUDE_PLUGIN_ROOT}/agents/domain-architect.md`
- Skill: `{CLAUDE_PLUGIN_ROOT}/skills/for-domain-architect/SKILL.md`

## 核心特性

- **进度可见**：实时显示任务进度，不再黑盒
- **质量可控**：每步验证质量，问题早发现

## 示例

```
用户: /ddd

Claude: 请选择场景：
1. 创建领域设计文档
2. Review 设计质量
3. 迭代优化设计

用户: 1
请提供 PRD 文档路径...

[生成 TaskList → 用户确认 → 执行 Task 工作流]

🏗️ 领域设计文档已完成
文档路径：会员订阅系统-领域设计文档.md
```
